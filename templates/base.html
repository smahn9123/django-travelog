{% load django_bootstrap5 %}
{% load static %}
<!DOCTYPE html>
<html>

  <head>
    <title>
      {% block title %}Travelog{% endblock %}
    </title>
    {% bootstrap_css %}
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <!-- 메인 로고 -->
        <a class="navbar-brand" href="{% url 'home' %}">
          <img src="{% static 'images/Travelog.webp' %}" alt="Travelog" height="30">
          Travelog
        </a>

        <!-- 검색창 -->
        <form class="d-flex mx-auto" action="{% url 'post_list' %}" method="get">
            <input type="text" name="q" value="{{ q }}" class="form-control me-2" placeholder="여행지를 검색해보세요">
            <button class="btn btn-outline-success" type="submit">검색</button>
        </form>

        <!-- 로그인/로그아웃 버튼 -->
        <div class="navbar-nav">
          {% if user.is_authenticated %}
          <form method="post" action="{% url 'post_write' %}" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-link nav-link">새 포스트 작성</a>
          </form>
          <form method="post" action="{% url 'accounts_logout' %}" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-link nav-link">로그아웃</button>
          </form>
          {% else %}
          <form method="post" action="{% url 'accounts_login' %}" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-link nav-link">로그인</button>
          </form>
          {% endif %}
        </div>
      </div>
    </nav>

    <main class="container mt-4">
      {% comment %} {% bootstrap_messages %} {% endcomment %}
      {% block content %}{% endblock %}
    </main>

    {% bootstrap_javascript %}
  </body>

</html>